!function(){function e(e,t,a,s){Object.defineProperty(e,t,{get:a,set:s,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},n=a.parcelRequired7c6;null==n&&((n=function(e){if(e in s)return s[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return s[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},a.parcelRequired7c6=n),n.register("iE7OH",(function(t,a){var s,i;e(t.exports,"register",(function(){return s}),(function(e){return s=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var n={};s=function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)n[t[a]]=e[t[a]]},i=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n.register("aNJCr",(function(t,a){var s;e(t.exports,"getBundleURL",(function(){return s}),(function(e){return s=e}));var i={};function n(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}s=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return n(e[2])}return"/"}(),i[e]=t),t}})),n("iE7OH").register(JSON.parse('{"EVgbq":"index.7b78a986.js","4O56q":"movie-pic.fe810275.jpg","lk5QZ":"library.c443c764.css","luOUF":"library.19f814a8.js"}'));var l=n("fkNhc"),r=n("eY4ce");function o(e,t,a){if(!t.has(e))throw new TypeError("attempted to "+a+" private field on non-instance");return t.get(e)}function c(e,t){return t.get?t.get.call(e):t.value}function d(e,t){return c(e,o(e,t,"get"))}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(e,t,a){u(e,t),t.set(e,a)}function v(e,t,a){if(t.set)t.set.call(e,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}function f(e,t,a){return v(e,o(e,t,"set"),a),a}var p=n("dIxxU"),m=n("h6c0i"),h=n("4Nugj"),y=new WeakMap,P=new WeakMap,L=new WeakMap,b=new WeakMap;class _{async getTrendMovie(){try{const{data:e}=await p.default.get(`${d(this,y)}/trending/movie/day?api_key=${d(this,P)}&page=${d(this,b)}`);return h.refs.containerPagAll.classList.remove("visually-hidden"),e}catch(e){h.refs.containerPagAll.classList.add("visually-hidden"),h.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>',console.error(e)}}async getGenres(){try{const{data:e}=await p.default.get(`${d(this,y)}/genre/movie/list?api_key=${d(this,P)}&language=en-US`);return e.genres}catch(e){console.error(e)}}async getSearchMovies(){try{return(await p.default.get(`${d(this,y)}/search/movie?api_key=${d(this,P)}&query=${d(this,L)}&page=${d(this,b)}`)).data}catch(e){h.refs.containerPage.classList.add("visually-hidden"),m.Notify.failure(e)}}async getNowPlaying(){try{return(await p.default.get(`${d(this,y)}/movie/now_playing?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){h.refs.containerPage.classList.add("visually-hidden"),h.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}async getPopular(){try{return(await p.default.get(`${d(this,y)}/movie/popular?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){h.refs.containerPage.classList.add("visually-hidden"),h.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}async getTopRated(){try{return(await p.default.get(`${d(this,y)}/movie/top_rated?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){h.refs.containerPage.classList.add("visually-hidden"),h.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}async getUpcoming(){try{return(await p.default.get(`${d(this,y)}/movie/upcoming?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){h.refs.containerPage.classList.add("visually-hidden"),h.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}resetPage(){f(this,b,1)}get query(){return d(this,L)}set query(e){f(this,L,e)}get page(){return d(this,b)}set page(e){f(this,b,e)}constructor(){g(this,y,{writable:!0,value:"https://api.themoviedb.org/3"}),g(this,P,{writable:!0,value:"d03712107dcdd723f1173c5ee2c0d8c1"}),g(this,L,{writable:!0,value:""}),g(this,b,{writable:!0,value:1})}}var w,N=n("1KhuP");w=n("aNJCr").getBundleURL("EVgbq")+n("iE7OH").resolve("4O56q");const x="https://image.tmdb.org/t/p/",T="w500";class C{getDataTrendMovies(e){return e.map((({poster_path:e,genre_ids:a,vote_average:s,title:i,id:n,release_date:l})=>{let r=x+T+e,o=Number.parseInt(l);const c=O(a);return e||(r=t(w)),l||(o="Unknown date"),{imgUrl:r,genres:c,rating:s.toFixed(1),name:i,id:n,year:o}}))}getDataSelectedMovie(e){const{poster_path:t,genres:a,vote_average:s,vote_count:i,popularity:n,title:l,original_title:r,overview:o,release_date:c}=e;return{imgUrl:x+T+t,name:l,vote:s.toFixed(1),votes:i,popularity:n,originalTitle:r,about:o,year:Number.parseInt(c)}}}N=n("1KhuP");var M=n("exC6H");h=n("4Nugj"),h=n("4Nugj");n("5xtVg");class k{start(){h.refs.backdropSpinner.classList.remove("is-hidden")}stop(){h.refs.backdropSpinner.classList.add("is-hidden")}}n("gQOBw");const E={firstPage:document.querySelector(".js-pagination--firstPage"),minus2Page:document.querySelector(".js-pagination--minus2Page"),minus1Page:document.querySelector(".js-pagination--minus1Page"),activPage:document.querySelector(".js-pagination--activPage"),plus1Page:document.querySelector(".js-pagination--plus1Page"),plus2Page:document.querySelector(".js-pagination--plus2Page"),lastPage:document.querySelector(".js-pagination--lastPage"),minusQuery:document.querySelector(".js-btn__minusQuery"),plusQuery:document.querySelector(".js-btn__plusQuery"),containerPage:document.querySelector(".js-pagination__page"),plusTen:document.querySelector(".btn-increment-ten"),minusTen:document.querySelector(".btn-decrement-ten"),containerPagAll:document.querySelector(".js-pagination")};E.minusQuery.addEventListener("click",(async function e(t){Q-=1,Q>U&&(Q=1);const a=t.target,s=new _,i=new C,n=h.refs.searchForm.searchQuery.value.trim();if(s.query=n,s.page=Q,0===Q)return Q=1,void a.blur();S.start();try{if(h.refs.filterNowPlaying.disabled)return void await s.getNowPlaying().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterPopular.disabled)return void await s.getPopular().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterTopRated.disabled)return void await s.getTopRated().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterUpcoming.disabled)return void await s.getUpcoming().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(""!==n)return void await s.getSearchMovies().then((s=>{U=s.total_pages,Q>s.total_pages&&(Q=2,e(t)),q(i,s,a)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}));await s.getTrendMovie().then((s=>{U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),q(i,s,a)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}))}catch(e){Notify.failure(e)}})),E.plusQuery.addEventListener("click",(async function e(t){Q+=1,Q>U&&(Q=1);const a=t.target,s=new _,i=new C,n=h.refs.searchForm.searchQuery.value.trim();s.query=n,s.page=Q,S.start();try{if(h.refs.filterNowPlaying.disabled)return void await s.getNowPlaying().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),Q>=s.total_pages&&E.lastPage.classList.add("btn-active"),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterPopular.disabled)return void await s.getPopular().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),Q>=s.total_pages&&E.lastPage.classList.add("btn-active"),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterTopRated.disabled)return void await s.getTopRated().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),Q>=s.total_pages&&E.lastPage.classList.add("btn-active"),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterUpcoming.disabled)return void await s.getUpcoming().then((s=>{if(U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),Q>=s.total_pages&&E.lastPage.classList.add("btn-active"),s.total_pages>500)return R(s),void a.blur();q(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(""!==n)return void await s.getSearchMovies().then((s=>{a.blur(),H(s),Q>=s.total_pages&&E.lastPage.classList.add("btn-active");const n=i.getDataTrendMovies(s.results),l=(0,N.createMarkupFilmsList)(n);h.refs.moviesList.innerHTML=l,E.minusQuery.disabled=!1,U=s.total_pages,Q>s.total_pages&&(Q=1,e(t))})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}));await s.getTrendMovie().then((s=>{a.blur(),U=s.total_pages,Q>s.total_pages&&(Q=1,e(t)),Q>=s.total_pages&&E.lastPage.classList.add("btn-active");const n=i.getDataTrendMovies(s.results),l=(0,N.createMarkupFilmsList)(n);h.refs.moviesList.innerHTML=l,H(s)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}))}catch(e){Notify.failure(e)}})),E.containerPage.addEventListener("click",F),E.minusTen.addEventListener("click",(async function(e){Q-=10;const t=e.target;Q<0&&(Q=1);const a=new _,s=new C,i=h.refs.searchForm.searchQuery.value.trim();a.query=i,a.page=Q,S.start();try{if(h.refs.filterNowPlaying.disabled)return void await a.getNowPlaying().then((e=>{if(U=e.total_pages,!(Q<=0))return e.total_pages>500?(R(e),void t.blur()):void q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterPopular.disabled)return void await a.getPopular().then((e=>{if(U=e.total_pages,!(Q<=0))return e.total_pages>500?(R(e),void t.blur()):void q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterTopRated.disabled)return void await a.getTopRated().then((e=>{if(U=e.total_pages,!(Q<=0))return e.total_pages>500?(R(e),void t.blur()):void q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterUpcoming.disabled)return void await a.getUpcoming().then((e=>{if(U=e.total_pages,!(Q<=0))return e.total_pages>500?(R(e),void t.blur()):void q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(""!==i)return void await a.getSearchMovies().then((e=>{U=e.total_pages,q(s,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}));await a.getTrendMovie().then((e=>{U=e.total_pages,Q<=0||q(s,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}))}catch(e){Notify.failure(e)}})),E.plusTen.addEventListener("click",(async function(e){Q+=10;const t=e.target;Q>U&&(Q=U);const a=new _,s=new C,i=h.refs.searchForm.searchQuery.value.trim();a.query=i,a.page=Q,S.start();try{if(h.refs.filterNowPlaying.disabled)return void await a.getNowPlaying().then((e=>{if(U=e.total_pages,e.total_pages||E.containerPage.classList.add("visually-hidden"),e.total_pages>500)return R(e),void t.blur();q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterPopular.disabled)return void await a.getPopular().then((e=>{if(U=e.total_pages,e.total_pages||E.containerPage.classList.add("visually-hidden"),e.total_pages>500)return R(e),void t.blur();q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterTopRated.disabled)return void await a.getTopRated().then((e=>{if(U=e.total_pages,e.total_pages||E.containerPage.classList.add("visually-hidden"),e.total_pages>500)return R(e),void t.blur();q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterUpcoming.disabled)return void await a.getUpcoming().then((e=>{if(U=e.total_pages,e.total_pages||E.containerPage.classList.add("visually-hidden"),e.total_pages>500)return R(e),void t.blur();q(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(""!==i)return void await a.getSearchMovies().then((e=>{if(U=e.total_pages,Q>e.total_pages)return;t.blur(),H(e);const a=s.getDataTrendMovies(e.results),i=(0,N.createMarkupFilmsList)(a);h.refs.moviesList.innerHTML=i,E.minusQuery.disabled=!1})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}));await a.getTrendMovie().then((e=>{U=e.total_pages,e.total_pages||E.containerPage.classList.add("visually-hidden"),q(s,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}))}catch(e){Notify.failure(e)}})),E.lastPage.addEventListener("click",F),E.firstPage.addEventListener("click",F);const S=new k;function H(e){switch((0,M.scrollTop)(),e.page){case 1:Q=1,E.firstPage.textContent=1,E.plus2Page.classList.remove("btn-active"),E.plus1Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.lastPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.firstPage.classList.add("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page+1,E.minus1Page.textContent=e.page+2,E.activPage.textContent=e.page+3,E.plus1Page.textContent=e.page+4,E.plus2Page.textContent=e.page+5;break;case 2:E.firstPage.textContent=1,E.firstPage.classList.remove("btn-active"),E.plus2Page.classList.remove("btn-active"),E.plus1Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.lastPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page,E.minus2Page.classList.add("btn-active"),E.minus1Page.textContent=e.page+1,E.activPage.textContent=e.page+2,E.plus1Page.textContent=e.page+3,E.plus2Page.textContent=e.page+4;break;case 3:E.firstPage.textContent=1,E.minus2Page.classList.remove("btn-active"),E.plus2Page.classList.remove("btn-active"),E.plus1Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.lastPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-1,E.minus1Page.classList.add("btn-active"),E.minus1Page.textContent=e.page,E.activPage.textContent=e.page+1,E.plus1Page.textContent=e.page+2,E.plus2Page.textContent=e.page+3;break;case 4:E.firstPage.textContent=1,E.minus1Page.classList.remove("btn-active"),E.plus2Page.classList.remove("btn-active"),E.plus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-2,E.activPage.classList.add("btn-active"),E.minus1Page.textContent=e.page-1,E.activPage.textContent=e.page,E.plus1Page.textContent=e.page+1,E.plus2Page.textContent=e.page+2;break;case 5:E.firstPage.textContent=1,E.activPage.classList.remove("btn-active"),E.plus2Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-3,E.plus1Page.classList.add("btn-active"),E.minus1Page.textContent=e.page-2,E.activPage.textContent=e.page-1,E.plus1Page.textContent=e.page,E.plus2Page.textContent=e.page+1;break;case 6:E.firstPage.textContent=1,E.plus1Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-4,E.plus2Page.classList.add("btn-active"),E.minus1Page.textContent=e.page-3,E.activPage.textContent=e.page-2,E.plus1Page.textContent=e.page-1,E.plus2Page.textContent=e.page;break;case e.total_pages-2:E.firstPage.textContent=1,E.plus2Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.lastPage.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-3,E.plus1Page.classList.add("btn-active"),E.minus1Page.textContent=e.page-2,E.activPage.textContent=e.page-1,E.plus1Page.textContent=e.page,E.plus2Page.textContent=e.page+1;break;case e.total_pages-1:E.firstPage.textContent=1,E.plus1Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.lastPage.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-4,E.plus2Page.classList.add("btn-active"),E.minus1Page.textContent=e.page-3,E.activPage.textContent=e.page-2,E.plus1Page.textContent=e.page-1,E.plus2Page.textContent=e.page;break;case e.total_pages:E.firstPage.textContent=1,E.plus2Page.classList.remove("btn-active"),E.plus1Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.activPage.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-5,E.lastPage.classList.add("btn-active"),E.minus1Page.textContent=e.page-4,E.activPage.textContent=e.page-3,E.plus1Page.textContent=e.page-2,E.plus2Page.textContent=e.page-1;break;default:E.firstPage.textContent=1,E.plus2Page.classList.remove("btn-active"),E.plus1Page.classList.remove("btn-active"),E.minus1Page.classList.remove("btn-active"),E.minus2Page.classList.remove("btn-active"),E.firstPage.classList.remove("btn-active"),E.lastPage.classList.remove("btn-active"),E.activPage.classList.add("btn-active"),E.plusQuery.classList.remove("btn-active"),E.minusQuery.classList.remove("btn-active"),E.lastPage.textContent=e.total_pages,E.minus2Page.textContent=e.page-2,E.minus1Page.textContent=e.page-1,E.activPage.textContent=e.page,E.plus1Page.textContent=e.page+1,E.plus2Page.textContent=e.page+2}switch(e.total_pages){case 1:E.plus2Page.classList.add("visually-hidden"),E.plus1Page.classList.add("visually-hidden"),E.minus1Page.classList.add("visually-hidden"),E.minus2Page.classList.add("visually-hidden"),E.lastPage.classList.add("visually-hidden"),E.activPage.classList.add("visually-hidden"),E.minusTen.classList.add("visually-hidden"),E.plusTen.classList.add("visually-hidden"),E.minusQuery.classList.add("visually-hidden"),E.plusQuery.classList.add("visually-hidden");break;case 2:E.plus2Page.classList.add("visually-hidden"),E.plus1Page.classList.add("visually-hidden"),E.minus1Page.classList.add("visually-hidden"),E.minus2Page.classList.remove("visually-hidden"),E.lastPage.classList.add("visually-hidden"),E.activPage.classList.add("visually-hidden"),E.minusTen.classList.add("visually-hidden"),E.plusTen.classList.add("visually-hidden"),E.minusQuery.classList.add("visually-hidden"),E.plusQuery.classList.add("visually-hidden");break;case 3:E.plus2Page.classList.add("visually-hidden"),E.plus1Page.classList.add("visually-hidden"),E.minus1Page.classList.remove("visually-hidden"),E.minus2Page.classList.remove("visually-hidden"),E.lastPage.classList.add("visually-hidden"),E.activPage.classList.add("visually-hidden"),E.minusTen.classList.add("visually-hidden"),E.plusTen.classList.add("visually-hidden"),E.minusQuery.classList.add("visually-hidden"),E.plusQuery.classList.add("visually-hidden");break;case 4:E.plus2Page.classList.add("visually-hidden"),E.plus1Page.classList.add("visually-hidden"),E.minus1Page.classList.remove("visually-hidden"),E.minus2Page.classList.remove("visually-hidden"),E.lastPage.classList.remove("visually-hidden"),E.activPage.classList.add("visually-hidden"),E.minusTen.classList.add("visually-hidden"),E.plusTen.classList.add("visually-hidden"),E.minusQuery.classList.remove("visually-hidden"),E.plusQuery.classList.remove("visually-hidden");break;case 5:E.plus2Page.classList.add("visually-hidden"),E.plus1Page.classList.add("visually-hidden"),E.minus1Page.classList.remove("visually-hidden"),E.minus2Page.classList.remove("visually-hidden"),E.lastPage.classList.remove("visually-hidden"),E.activPage.classList.remove("visually-hidden"),E.minusTen.classList.add("visually-hidden"),E.plusTen.classList.add("visually-hidden"),E.minusQuery.classList.remove("visually-hidden"),E.plusQuery.classList.remove("visually-hidden");break;case 6:E.plus2Page.classList.add("visually-hidden"),E.plus1Page.classList.remove("visually-hidden"),E.minus1Page.classList.remove("visually-hidden"),E.minus2Page.classList.remove("visually-hidden"),E.lastPage.classList.remove("visually-hidden"),E.activPage.classList.remove("visually-hidden"),E.minusTen.classList.add("visually-hidden"),E.plusTen.classList.add("visually-hidden"),E.minusQuery.classList.remove("visually-hidden"),E.plusQuery.classList.remove("visually-hidden");break;default:E.plus2Page.classList.remove("visually-hidden"),E.plus1Page.classList.remove("visually-hidden"),E.minus1Page.classList.remove("visually-hidden"),E.minus2Page.classList.remove("visually-hidden"),E.lastPage.classList.remove("visually-hidden"),E.activPage.classList.remove("visually-hidden"),E.minusQuery.classList.remove("visually-hidden"),E.plusQuery.classList.remove("visually-hidden"),E.minusTen.classList.remove("visually-hidden"),E.plusTen.classList.remove("visually-hidden")}}let Q=1,U=100;async function F(e){const t=e.target;if(Q=Number(t.textContent),S.start(),"BUTTON"===t.nodeName)try{const e=new _,a=new C,s=h.refs.searchForm.searchQuery.value.trim();if(e.query=s,e.page=Q,h.refs.filterNowPlaying.disabled)return void await e.getNowPlaying().then((e=>{if(U=e.total_pages,e.total_pages>500)return R(e),void t.blur();q(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterPopular.disabled)return void await e.getPopular().then((e=>{if(U=e.total_pages,e.total_pages>500)return R(e),void t.blur();q(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterTopRated.disabled)return void await e.getTopRated().then((e=>{if(U=e.total_pages,e.total_pages>500)return R(e),void t.blur();q(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(h.refs.filterUpcoming.disabled)return void await e.getUpcoming().then((e=>{if(U=e.total_pages,e.total_pages>500)return R(e),void t.blur();q(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{S.stop()}));if(""!==s)return void await e.getSearchMovies().then((e=>{U=e.total_pages,q(a,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}));await e.getTrendMovie().then((e=>{U=e.total_pages,q(a,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{S.stop()}))}catch(e){Notify.failure(e)}}function R(e){const t=new C,a=e;a.total_pages=500,U=a.total_pages;const s=t.getDataTrendMovies(a.results),i=(0,N.createMarkupFilmsList)(s);h.refs.moviesList.innerHTML=i,H(a)}function q(e,t,a){const s=e.getDataTrendMovies(t.results),i=(0,N.createMarkupFilmsList)(s);h.refs.moviesList.innerHTML=i,a.blur(),H(t)}h=n("4Nugj");const j=new C,$=new _,D=new k;function O(e){const t=[];return e.find((e=>{(function(){try{const e=localStorage.getItem("GENRES");return null===e?[]:JSON.parse(e)}catch(e){console.error("Get state error: ",e.message)}})().forEach((a=>{a.id===e&&t.push(a.name)}))})),t}N=n("1KhuP"),h=n("4Nugj"),m=n("h6c0i");const I=new k,A=new C,B=new _;h.refs.searchForm.addEventListener("submit",(function(e){e.preventDefault(),h.refs.filterNowPlaying.disabled=!1,h.refs.filterPopular.disabled=!1,h.refs.filterTopRated.disabled=!1,h.refs.filterUpcoming.disabled=!1;const t=e.currentTarget.elements.searchQuery.value.trim();if(h.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),h.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),h.refs.noMoviesNotification.classList.add("visually-hidden"),!t)return void h.refs.notCorrectNotification.classList.add("films__not-correct-notification-show");h.refs.moviesList.innerHTML="",B.query=t,I.start(),B.getSearchMovies().then((e=>{if(h.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),h.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),h.refs.searchErrorImg.classList.add("visually-hidden"),0===e.results.length)return h.refs.searchErrorImg.classList.remove("visually-hidden"),h.refs.noMoviesNotification.classList.add("films__no-movies-notification-show"),h.refs.noMoviesNotification.classList.remove("visually-hidden"),void h.refs.containerPagAll.classList.add("visually-hidden");h.refs.containerPagAll.classList.remove("visually-hidden"),H(e);const t=A.getDataTrendMovies(e.results),a=(0,N.createMarkupFilmsList)(t);h.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{I.stop()}))}));var G=n("5xtVg");n("4F07H"),n("9jVQT"),n("exC6H");N=n("1KhuP"),h=n("4Nugj"),m=n("h6c0i");const V=new k,W=new C,J=new _;h.refs.filterNowPlaying.addEventListener("click",(function(e){e.preventDefault(),h.refs.moviesList.innerHTML="",V.start(),h.refs.filterNowPlaying.disabled=!0,h.refs.filterPopular.disabled=!1,h.refs.filterTopRated.disabled=!1,h.refs.filterUpcoming.disabled=!1,h.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),h.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),h.refs.searchErrorImg.classList.add("visually-hidden"),J.getNowPlaying().then((e=>{if(e.total_pages>500)return void R(e);H(e);const t=W.getDataTrendMovies(e.results),a=(0,N.createMarkupFilmsList)(t);h.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{V.stop()}))})),h.refs.filterPopular.addEventListener("click",(function(e){e.preventDefault(),h.refs.moviesList.innerHTML="",V.start(),h.refs.filterNowPlaying.disabled=!1,h.refs.filterPopular.disabled=!0,h.refs.filterTopRated.disabled=!1,h.refs.filterUpcoming.disabled=!1,h.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),h.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),h.refs.searchErrorImg.classList.add("visually-hidden"),J.getPopular().then((e=>{if(e.total_pages>500)return void R(e);H(e);const t=W.getDataTrendMovies(e.results),a=(0,N.createMarkupFilmsList)(t);h.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{V.stop()}))})),h.refs.filterTopRated.addEventListener("click",(function(e){e.preventDefault(),h.refs.moviesList.innerHTML="",V.start(),h.refs.filterNowPlaying.disabled=!1,h.refs.filterPopular.disabled=!1,h.refs.filterTopRated.disabled=!0,h.refs.filterUpcoming.disabled=!1,h.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),h.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),h.refs.searchErrorImg.classList.add("visually-hidden"),J.getTopRated().then((e=>{if(e.total_pages>500)return void R(e);H(e);const t=W.getDataTrendMovies(e.results),a=(0,N.createMarkupFilmsList)(t);h.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{V.stop()}))})),h.refs.filterUpcoming.addEventListener("click",(function(e){e.preventDefault(),h.refs.moviesList.innerHTML="",V.start(),h.refs.filterNowPlaying.disabled=!1,h.refs.filterPopular.disabled=!1,h.refs.filterTopRated.disabled=!1,h.refs.filterUpcoming.disabled=!0,h.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),h.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),h.refs.searchErrorImg.classList.add("visually-hidden"),J.getUpcoming().then((e=>{if(e.total_pages>500)return void R(e);H(e);const t=W.getDataTrendMovies(e.results),a=(0,N.createMarkupFilmsList)(t);h.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{V.stop()}))}));var z=n("iNWLi"),K=(h=n("4Nugj"),n("fivgP"));G=n("5xtVg");$.getGenres().then((e=>{localStorage.setItem("GENRES",JSON.stringify(e))})).catch((e=>console.log(e))),D.start(),$.getTrendMovie().then((e=>{const t=j.getDataTrendMovies(e.results),a=(0,N.createMarkupFilmsList)(t);h.refs.moviesList.innerHTML=a,H(e)})).catch((e=>{console.log(e),h.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'})).finally((()=>{D.stop()}));const Y=(0,r.getFirebaseConfig)(),Z=new(0,z.FireBaseService);h.refs.signInWithGoogle.addEventListener("click",Z.signIn),h.refs.signOutButtonElement.addEventListener("click",Z.signOutUser),h.refs.libraryLink.addEventListener("click",(async function(){if(!await Z.isUserSignedIn())return K.Report.warning("Please sign in to your account!","","Okay");window.location.href="./library.html"})),(0,l.initializeApp)(Y),Z.initFirebaseAuth(),(0,G.toFirebase)(Z)}();
//# sourceMappingURL=index.7b78a986.js.map
