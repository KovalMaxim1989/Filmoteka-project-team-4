function e(e,t,a,s){Object.defineProperty(e,t,{get:a,set:s,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},n=a.parcelRequired7c6;null==n&&((n=function(e){if(e in s)return s[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return s[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},a.parcelRequired7c6=n),n.register("kyEFX",(function(t,a){var s,i;e(t.exports,"register",(function(){return s}),(function(e){return s=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var n={};s=function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)n[t[a]]=e[t[a]]},i=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n("kyEFX").register(JSON.parse('{"5ZPII":"index.846d2766.js","dATrs":"movie-pic.fe810275.jpg","lk5QZ":"library.c443c764.css","hGRIQ":"library.b1d6c9c2.js"}'));var l=n("gKkQl"),r=n("7iEdO");function o(e,t,a){if(!t.has(e))throw new TypeError("attempted to "+a+" private field on non-instance");return t.get(e)}function c(e,t){return t.get?t.get.call(e):t.value}function d(e,t){return c(e,o(e,t,"get"))}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(e,t,a){u(e,t),t.set(e,a)}function v(e,t,a){if(t.set)t.set.call(e,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}function f(e,t,a){return v(e,o(e,t,"set"),a),a}var p=n("2shzp"),m=n("iQIUW"),y=n("krGWQ"),h=new WeakMap,P=new WeakMap,L=new WeakMap,b=new WeakMap;class _{async getTrendMovie(){try{const{data:e}=await p.default.get(`${d(this,h)}/trending/movie/day?api_key=${d(this,P)}&page=${d(this,b)}`);return y.refs.containerPagAll.classList.remove("visually-hidden"),e}catch(e){y.refs.containerPagAll.classList.add("visually-hidden"),y.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>',console.error(e)}}async getGenres(){try{const{data:e}=await p.default.get(`${d(this,h)}/genre/movie/list?api_key=${d(this,P)}&language=en-US`);return e.genres}catch(e){console.error(e)}}async getSearchMovies(){try{return(await p.default.get(`${d(this,h)}/search/movie?api_key=${d(this,P)}&query=${d(this,L)}&page=${d(this,b)}`)).data}catch(e){y.refs.containerPage.classList.add("visually-hidden"),m.Notify.failure(e)}}async getNowPlaying(){try{return(await p.default.get(`${d(this,h)}/movie/now_playing?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){y.refs.containerPage.classList.add("visually-hidden"),y.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}async getPopular(){try{return(await p.default.get(`${d(this,h)}/movie/popular?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){y.refs.containerPage.classList.add("visually-hidden"),y.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}async getTopRated(){try{return(await p.default.get(`${d(this,h)}/movie/top_rated?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){y.refs.containerPage.classList.add("visually-hidden"),y.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}async getUpcoming(){try{return(await p.default.get(`${d(this,h)}/movie/upcoming?api_key=${d(this,P)}&page=${d(this,b)}`)).data}catch(e){y.refs.containerPage.classList.add("visually-hidden"),y.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'}}resetPage(){f(this,b,1)}get query(){return d(this,L)}set query(e){f(this,L,e)}get page(){return d(this,b)}set page(e){f(this,b,e)}constructor(){g(this,h,{writable:!0,value:"https://api.themoviedb.org/3"}),g(this,P,{writable:!0,value:"d03712107dcdd723f1173c5ee2c0d8c1"}),g(this,L,{writable:!0,value:""}),g(this,b,{writable:!0,value:1})}}var w,T=n("3huUq");w=new URL(n("kyEFX").resolve("dATrs"),import.meta.url).toString();const N="https://image.tmdb.org/t/p/",x="w500";class C{getDataTrendMovies(e){return e.map((({poster_path:e,genre_ids:a,vote_average:s,title:i,id:n,release_date:l})=>{let r=N+x+e,o=Number.parseInt(l);const c=j(a);return e||(r=t(w)),l||(o="Unknown date"),{imgUrl:r,genres:c,rating:s.toFixed(1),name:i,id:n,year:o}}))}getDataSelectedMovie(e){const{poster_path:t,genres:a,vote_average:s,vote_count:i,popularity:n,title:l,original_title:r,overview:o,release_date:c}=e;return{imgUrl:N+x+t,name:l,vote:s.toFixed(1),votes:i,popularity:n,originalTitle:r,about:o,year:Number.parseInt(c)}}}T=n("3huUq");var k=n("2sxQI");y=n("krGWQ"),y=n("krGWQ");n("bTcpz");class M{start(){y.refs.backdropSpinner.classList.remove("is-hidden")}stop(){y.refs.backdropSpinner.classList.add("is-hidden")}}n("eyjy7");const Q={firstPage:document.querySelector(".js-pagination--firstPage"),minus2Page:document.querySelector(".js-pagination--minus2Page"),minus1Page:document.querySelector(".js-pagination--minus1Page"),activPage:document.querySelector(".js-pagination--activPage"),plus1Page:document.querySelector(".js-pagination--plus1Page"),plus2Page:document.querySelector(".js-pagination--plus2Page"),lastPage:document.querySelector(".js-pagination--lastPage"),minusQuery:document.querySelector(".js-btn__minusQuery"),plusQuery:document.querySelector(".js-btn__plusQuery"),containerPage:document.querySelector(".js-pagination__page"),plusTen:document.querySelector(".btn-increment-ten"),minusTen:document.querySelector(".btn-decrement-ten"),containerPagAll:document.querySelector(".js-pagination")};Q.minusQuery.addEventListener("click",(async function e(t){U-=1,U>F&&(U=1);const a=t.target,s=new _,i=new C,n=y.refs.searchForm.searchQuery.value.trim();if(s.query=n,s.page=U,0===U)return U=1,void a.blur();E.start();try{if(y.refs.filterNowPlaying.disabled)return void await s.getNowPlaying().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterPopular.disabled)return void await s.getPopular().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterTopRated.disabled)return void await s.getTopRated().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterUpcoming.disabled)return void await s.getUpcoming().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(""!==n)return void await s.getSearchMovies().then((s=>{F=s.total_pages,U>s.total_pages&&(U=2,e(t)),R(i,s,a)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}));await s.getTrendMovie().then((s=>{F=s.total_pages,U>s.total_pages&&(U=1,e(t)),R(i,s,a)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}))}catch(e){Notify.failure(e)}})),Q.plusQuery.addEventListener("click",(async function e(t){U+=1,U>F&&(U=1);const a=t.target,s=new _,i=new C,n=y.refs.searchForm.searchQuery.value.trim();s.query=n,s.page=U,E.start();try{if(y.refs.filterNowPlaying.disabled)return void await s.getNowPlaying().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),U>=s.total_pages&&Q.lastPage.classList.add("btn-active"),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterPopular.disabled)return void await s.getPopular().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),U>=s.total_pages&&Q.lastPage.classList.add("btn-active"),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterTopRated.disabled)return void await s.getTopRated().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),U>=s.total_pages&&Q.lastPage.classList.add("btn-active"),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterUpcoming.disabled)return void await s.getUpcoming().then((s=>{if(F=s.total_pages,U>s.total_pages&&(U=1,e(t)),U>=s.total_pages&&Q.lastPage.classList.add("btn-active"),s.total_pages>500)return q(s),void a.blur();R(i,s,a)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(""!==n)return void await s.getSearchMovies().then((s=>{a.blur(),S(s),U>=s.total_pages&&Q.lastPage.classList.add("btn-active");const n=i.getDataTrendMovies(s.results),l=(0,T.createMarkupFilmsList)(n);y.refs.moviesList.innerHTML=l,Q.minusQuery.disabled=!1,F=s.total_pages,U>s.total_pages&&(U=1,e(t))})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}));await s.getTrendMovie().then((s=>{a.blur(),F=s.total_pages,U>s.total_pages&&(U=1,e(t)),U>=s.total_pages&&Q.lastPage.classList.add("btn-active");const n=i.getDataTrendMovies(s.results),l=(0,T.createMarkupFilmsList)(n);y.refs.moviesList.innerHTML=l,S(s)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}))}catch(e){Notify.failure(e)}})),Q.containerPage.addEventListener("click",H),Q.minusTen.addEventListener("click",(async function(e){U-=10;const t=e.target;U<0&&(U=1);const a=new _,s=new C,i=y.refs.searchForm.searchQuery.value.trim();a.query=i,a.page=U,E.start();try{if(y.refs.filterNowPlaying.disabled)return void await a.getNowPlaying().then((e=>{if(F=e.total_pages,!(U<=0))return e.total_pages>500?(q(e),void t.blur()):void R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterPopular.disabled)return void await a.getPopular().then((e=>{if(F=e.total_pages,!(U<=0))return e.total_pages>500?(q(e),void t.blur()):void R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterTopRated.disabled)return void await a.getTopRated().then((e=>{if(F=e.total_pages,!(U<=0))return e.total_pages>500?(q(e),void t.blur()):void R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterUpcoming.disabled)return void await a.getUpcoming().then((e=>{if(F=e.total_pages,!(U<=0))return e.total_pages>500?(q(e),void t.blur()):void R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(""!==i)return void await a.getSearchMovies().then((e=>{F=e.total_pages,R(s,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}));await a.getTrendMovie().then((e=>{F=e.total_pages,U<=0||R(s,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}))}catch(e){Notify.failure(e)}})),Q.plusTen.addEventListener("click",(async function(e){U+=10;const t=e.target;U>F&&(U=F);const a=new _,s=new C,i=y.refs.searchForm.searchQuery.value.trim();a.query=i,a.page=U,E.start();try{if(y.refs.filterNowPlaying.disabled)return void await a.getNowPlaying().then((e=>{if(F=e.total_pages,e.total_pages||Q.containerPage.classList.add("visually-hidden"),e.total_pages>500)return q(e),void t.blur();R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterPopular.disabled)return void await a.getPopular().then((e=>{if(F=e.total_pages,e.total_pages||Q.containerPage.classList.add("visually-hidden"),e.total_pages>500)return q(e),void t.blur();R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterTopRated.disabled)return void await a.getTopRated().then((e=>{if(F=e.total_pages,e.total_pages||Q.containerPage.classList.add("visually-hidden"),e.total_pages>500)return q(e),void t.blur();R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterUpcoming.disabled)return void await a.getUpcoming().then((e=>{if(F=e.total_pages,e.total_pages||Q.containerPage.classList.add("visually-hidden"),e.total_pages>500)return q(e),void t.blur();R(s,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(""!==i)return void await a.getSearchMovies().then((e=>{if(F=e.total_pages,U>e.total_pages)return;t.blur(),S(e);const a=s.getDataTrendMovies(e.results),i=(0,T.createMarkupFilmsList)(a);y.refs.moviesList.innerHTML=i,Q.minusQuery.disabled=!1})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}));await a.getTrendMovie().then((e=>{F=e.total_pages,e.total_pages||Q.containerPage.classList.add("visually-hidden"),R(s,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}))}catch(e){Notify.failure(e)}})),Q.lastPage.addEventListener("click",H),Q.firstPage.addEventListener("click",H);const E=new M;function S(e){switch((0,k.scrollTop)(),e.page){case 1:U=1,Q.firstPage.textContent=1,Q.plus2Page.classList.remove("btn-active"),Q.plus1Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.lastPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.firstPage.classList.add("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page+1,Q.minus1Page.textContent=e.page+2,Q.activPage.textContent=e.page+3,Q.plus1Page.textContent=e.page+4,Q.plus2Page.textContent=e.page+5;break;case 2:Q.firstPage.textContent=1,Q.firstPage.classList.remove("btn-active"),Q.plus2Page.classList.remove("btn-active"),Q.plus1Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.lastPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page,Q.minus2Page.classList.add("btn-active"),Q.minus1Page.textContent=e.page+1,Q.activPage.textContent=e.page+2,Q.plus1Page.textContent=e.page+3,Q.plus2Page.textContent=e.page+4;break;case 3:Q.firstPage.textContent=1,Q.minus2Page.classList.remove("btn-active"),Q.plus2Page.classList.remove("btn-active"),Q.plus1Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.lastPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-1,Q.minus1Page.classList.add("btn-active"),Q.minus1Page.textContent=e.page,Q.activPage.textContent=e.page+1,Q.plus1Page.textContent=e.page+2,Q.plus2Page.textContent=e.page+3;break;case 4:Q.firstPage.textContent=1,Q.minus1Page.classList.remove("btn-active"),Q.plus2Page.classList.remove("btn-active"),Q.plus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-2,Q.activPage.classList.add("btn-active"),Q.minus1Page.textContent=e.page-1,Q.activPage.textContent=e.page,Q.plus1Page.textContent=e.page+1,Q.plus2Page.textContent=e.page+2;break;case 5:Q.firstPage.textContent=1,Q.activPage.classList.remove("btn-active"),Q.plus2Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-3,Q.plus1Page.classList.add("btn-active"),Q.minus1Page.textContent=e.page-2,Q.activPage.textContent=e.page-1,Q.plus1Page.textContent=e.page,Q.plus2Page.textContent=e.page+1;break;case 6:Q.firstPage.textContent=1,Q.plus1Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-4,Q.plus2Page.classList.add("btn-active"),Q.minus1Page.textContent=e.page-3,Q.activPage.textContent=e.page-2,Q.plus1Page.textContent=e.page-1,Q.plus2Page.textContent=e.page;break;case e.total_pages-2:Q.firstPage.textContent=1,Q.plus2Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.lastPage.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-3,Q.plus1Page.classList.add("btn-active"),Q.minus1Page.textContent=e.page-2,Q.activPage.textContent=e.page-1,Q.plus1Page.textContent=e.page,Q.plus2Page.textContent=e.page+1;break;case e.total_pages-1:Q.firstPage.textContent=1,Q.plus1Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.lastPage.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-4,Q.plus2Page.classList.add("btn-active"),Q.minus1Page.textContent=e.page-3,Q.activPage.textContent=e.page-2,Q.plus1Page.textContent=e.page-1,Q.plus2Page.textContent=e.page;break;case e.total_pages:Q.firstPage.textContent=1,Q.plus2Page.classList.remove("btn-active"),Q.plus1Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.activPage.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-5,Q.lastPage.classList.add("btn-active"),Q.minus1Page.textContent=e.page-4,Q.activPage.textContent=e.page-3,Q.plus1Page.textContent=e.page-2,Q.plus2Page.textContent=e.page-1;break;default:Q.firstPage.textContent=1,Q.plus2Page.classList.remove("btn-active"),Q.plus1Page.classList.remove("btn-active"),Q.minus1Page.classList.remove("btn-active"),Q.minus2Page.classList.remove("btn-active"),Q.firstPage.classList.remove("btn-active"),Q.lastPage.classList.remove("btn-active"),Q.activPage.classList.add("btn-active"),Q.plusQuery.classList.remove("btn-active"),Q.minusQuery.classList.remove("btn-active"),Q.lastPage.textContent=e.total_pages,Q.minus2Page.textContent=e.page-2,Q.minus1Page.textContent=e.page-1,Q.activPage.textContent=e.page,Q.plus1Page.textContent=e.page+1,Q.plus2Page.textContent=e.page+2}switch(e.total_pages){case 1:Q.plus2Page.classList.add("visually-hidden"),Q.plus1Page.classList.add("visually-hidden"),Q.minus1Page.classList.add("visually-hidden"),Q.minus2Page.classList.add("visually-hidden"),Q.lastPage.classList.add("visually-hidden"),Q.activPage.classList.add("visually-hidden"),Q.minusTen.classList.add("visually-hidden"),Q.plusTen.classList.add("visually-hidden"),Q.minusQuery.classList.add("visually-hidden"),Q.plusQuery.classList.add("visually-hidden");break;case 2:Q.plus2Page.classList.add("visually-hidden"),Q.plus1Page.classList.add("visually-hidden"),Q.minus1Page.classList.add("visually-hidden"),Q.minus2Page.classList.remove("visually-hidden"),Q.lastPage.classList.add("visually-hidden"),Q.activPage.classList.add("visually-hidden"),Q.minusTen.classList.add("visually-hidden"),Q.plusTen.classList.add("visually-hidden"),Q.minusQuery.classList.add("visually-hidden"),Q.plusQuery.classList.add("visually-hidden");break;case 3:Q.plus2Page.classList.add("visually-hidden"),Q.plus1Page.classList.add("visually-hidden"),Q.minus1Page.classList.remove("visually-hidden"),Q.minus2Page.classList.remove("visually-hidden"),Q.lastPage.classList.add("visually-hidden"),Q.activPage.classList.add("visually-hidden"),Q.minusTen.classList.add("visually-hidden"),Q.plusTen.classList.add("visually-hidden"),Q.minusQuery.classList.add("visually-hidden"),Q.plusQuery.classList.add("visually-hidden");break;case 4:Q.plus2Page.classList.add("visually-hidden"),Q.plus1Page.classList.add("visually-hidden"),Q.minus1Page.classList.remove("visually-hidden"),Q.minus2Page.classList.remove("visually-hidden"),Q.lastPage.classList.remove("visually-hidden"),Q.activPage.classList.add("visually-hidden"),Q.minusTen.classList.add("visually-hidden"),Q.plusTen.classList.add("visually-hidden"),Q.minusQuery.classList.remove("visually-hidden"),Q.plusQuery.classList.remove("visually-hidden");break;case 5:Q.plus2Page.classList.add("visually-hidden"),Q.plus1Page.classList.add("visually-hidden"),Q.minus1Page.classList.remove("visually-hidden"),Q.minus2Page.classList.remove("visually-hidden"),Q.lastPage.classList.remove("visually-hidden"),Q.activPage.classList.remove("visually-hidden"),Q.minusTen.classList.add("visually-hidden"),Q.plusTen.classList.add("visually-hidden"),Q.minusQuery.classList.remove("visually-hidden"),Q.plusQuery.classList.remove("visually-hidden");break;case 6:Q.plus2Page.classList.add("visually-hidden"),Q.plus1Page.classList.remove("visually-hidden"),Q.minus1Page.classList.remove("visually-hidden"),Q.minus2Page.classList.remove("visually-hidden"),Q.lastPage.classList.remove("visually-hidden"),Q.activPage.classList.remove("visually-hidden"),Q.minusTen.classList.add("visually-hidden"),Q.plusTen.classList.add("visually-hidden"),Q.minusQuery.classList.remove("visually-hidden"),Q.plusQuery.classList.remove("visually-hidden");break;default:Q.plus2Page.classList.remove("visually-hidden"),Q.plus1Page.classList.remove("visually-hidden"),Q.minus1Page.classList.remove("visually-hidden"),Q.minus2Page.classList.remove("visually-hidden"),Q.lastPage.classList.remove("visually-hidden"),Q.activPage.classList.remove("visually-hidden"),Q.minusQuery.classList.remove("visually-hidden"),Q.plusQuery.classList.remove("visually-hidden"),Q.minusTen.classList.remove("visually-hidden"),Q.plusTen.classList.remove("visually-hidden")}}let U=1,F=100;async function H(e){const t=e.target;if(U=Number(t.textContent),E.start(),"BUTTON"===t.nodeName)try{const e=new _,a=new C,s=y.refs.searchForm.searchQuery.value.trim();if(e.query=s,e.page=U,y.refs.filterNowPlaying.disabled)return void await e.getNowPlaying().then((e=>{if(F=e.total_pages,e.total_pages>500)return q(e),void t.blur();R(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterPopular.disabled)return void await e.getPopular().then((e=>{if(F=e.total_pages,e.total_pages>500)return q(e),void t.blur();R(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterTopRated.disabled)return void await e.getTopRated().then((e=>{if(F=e.total_pages,e.total_pages>500)return q(e),void t.blur();R(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(y.refs.filterUpcoming.disabled)return void await e.getUpcoming().then((e=>{if(F=e.total_pages,e.total_pages>500)return q(e),void t.blur();R(a,e,t)})).catch((e=>Notify.failure(e))).finally((()=>{E.stop()}));if(""!==s)return void await e.getSearchMovies().then((e=>{F=e.total_pages,R(a,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}));await e.getTrendMovie().then((e=>{F=e.total_pages,R(a,e,t)})).catch((e=>{Notify.failure(e)})).finally((()=>{E.stop()}))}catch(e){Notify.failure(e)}}function q(e){const t=new C,a=e;a.total_pages=500,F=a.total_pages;const s=t.getDataTrendMovies(a.results),i=(0,T.createMarkupFilmsList)(s);y.refs.moviesList.innerHTML=i,S(a)}function R(e,t,a){const s=e.getDataTrendMovies(t.results),i=(0,T.createMarkupFilmsList)(s);y.refs.moviesList.innerHTML=i,a.blur(),S(t)}y=n("krGWQ");const D=new C,I=new _,$=new M;function j(e){const t=[];return e.find((e=>{(function(){try{const e=localStorage.getItem("GENRES");return null===e?[]:JSON.parse(e)}catch(e){console.error("Get state error: ",e.message)}})().forEach((a=>{a.id===e&&t.push(a.name)}))})),t}T=n("3huUq"),y=n("krGWQ"),m=n("iQIUW");const W=new M,A=new C,G=new _;y.refs.searchForm.addEventListener("submit",(function(e){e.preventDefault(),y.refs.filterNowPlaying.disabled=!1,y.refs.filterPopular.disabled=!1,y.refs.filterTopRated.disabled=!1,y.refs.filterUpcoming.disabled=!1;const t=e.currentTarget.elements.searchQuery.value.trim();if(y.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),y.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),y.refs.noMoviesNotification.classList.add("visually-hidden"),!t)return void y.refs.notCorrectNotification.classList.add("films__not-correct-notification-show");y.refs.moviesList.innerHTML="",G.query=t,W.start(),G.getSearchMovies().then((e=>{if(y.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),y.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),y.refs.searchErrorImg.classList.add("visually-hidden"),0===e.results.length)return y.refs.searchErrorImg.classList.remove("visually-hidden"),y.refs.noMoviesNotification.classList.add("films__no-movies-notification-show"),y.refs.noMoviesNotification.classList.remove("visually-hidden"),void y.refs.containerPagAll.classList.add("visually-hidden");y.refs.containerPagAll.classList.remove("visually-hidden"),S(e);const t=A.getDataTrendMovies(e.results),a=(0,T.createMarkupFilmsList)(t);y.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{W.stop()}))}));var O=n("bTcpz");n("6HA5D"),n("gXqU4"),n("2sxQI");T=n("3huUq"),y=n("krGWQ"),m=n("iQIUW");const z=new M,J=new C,X=new _;y.refs.filterNowPlaying.addEventListener("click",(function(e){e.preventDefault(),y.refs.moviesList.innerHTML="",z.start(),y.refs.filterNowPlaying.disabled=!0,y.refs.filterPopular.disabled=!1,y.refs.filterTopRated.disabled=!1,y.refs.filterUpcoming.disabled=!1,y.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),y.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),y.refs.searchErrorImg.classList.add("visually-hidden"),X.getNowPlaying().then((e=>{if(e.total_pages>500)return void q(e);S(e);const t=J.getDataTrendMovies(e.results),a=(0,T.createMarkupFilmsList)(t);y.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{z.stop()}))})),y.refs.filterPopular.addEventListener("click",(function(e){e.preventDefault(),y.refs.moviesList.innerHTML="",z.start(),y.refs.filterNowPlaying.disabled=!1,y.refs.filterPopular.disabled=!0,y.refs.filterTopRated.disabled=!1,y.refs.filterUpcoming.disabled=!1,y.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),y.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),y.refs.searchErrorImg.classList.add("visually-hidden"),X.getPopular().then((e=>{if(e.total_pages>500)return void q(e);S(e);const t=J.getDataTrendMovies(e.results),a=(0,T.createMarkupFilmsList)(t);y.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{z.stop()}))})),y.refs.filterTopRated.addEventListener("click",(function(e){e.preventDefault(),y.refs.moviesList.innerHTML="",z.start(),y.refs.filterNowPlaying.disabled=!1,y.refs.filterPopular.disabled=!1,y.refs.filterTopRated.disabled=!0,y.refs.filterUpcoming.disabled=!1,y.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),y.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),y.refs.searchErrorImg.classList.add("visually-hidden"),X.getTopRated().then((e=>{if(e.total_pages>500)return void q(e);S(e);const t=J.getDataTrendMovies(e.results),a=(0,T.createMarkupFilmsList)(t);y.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{z.stop()}))})),y.refs.filterUpcoming.addEventListener("click",(function(e){e.preventDefault(),y.refs.moviesList.innerHTML="",z.start(),y.refs.filterNowPlaying.disabled=!1,y.refs.filterPopular.disabled=!1,y.refs.filterTopRated.disabled=!1,y.refs.filterUpcoming.disabled=!0,y.refs.notCorrectNotification.classList.remove("films__not-correct-notification-show"),y.refs.noMoviesNotification.classList.remove("films__no-movies-notification-show"),y.refs.searchErrorImg.classList.add("visually-hidden"),X.getUpcoming().then((e=>{if(e.total_pages>500)return void q(e);S(e);const t=J.getDataTrendMovies(e.results),a=(0,T.createMarkupFilmsList)(t);y.refs.moviesList.innerHTML=a})).catch((e=>m.Notify.failure(e))).finally((()=>{z.stop()}))}));var B=n("2ix2C"),Z=(y=n("krGWQ"),n("i37YJ"));O=n("bTcpz");I.getGenres().then((e=>{localStorage.setItem("GENRES",JSON.stringify(e))})).catch((e=>console.log(e))),$.start(),I.getTrendMovie().then((e=>{const t=D.getDataTrendMovies(e.results),a=(0,T.createMarkupFilmsList)(t);y.refs.moviesList.innerHTML=a,S(e)})).catch((e=>{console.log(e),y.refs.moviesList.innerHTML='<li class="empty-storage">\n    <div>Please wait while the minions do their work...</div>\n  </li>'})).finally((()=>{$.stop()}));const K=(0,r.getFirebaseConfig)(),Y=new(0,B.FireBaseService);y.refs.signInWithGoogle.addEventListener("click",Y.signIn),y.refs.signOutButtonElement.addEventListener("click",Y.signOutUser),y.refs.libraryLink.addEventListener("click",(async function(){if(!await Y.isUserSignedIn())return Z.Report.warning("Please sign in to your account!","","Okay");window.location.href="./library.html"})),(0,l.initializeApp)(K),Y.initFirebaseAuth(),(0,O.toFirebase)(Y);
//# sourceMappingURL=index.846d2766.js.map
